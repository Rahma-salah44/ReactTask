{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Rahma.Salah/Desktop/React Task/ReactTask/WaterTracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Rahma.Salah/Desktop/React Task/ReactTask/WaterTracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/Rahma.Salah/Desktop/React Task/ReactTask/WaterTracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _s = $RefreshSig$();\nimport { useState, useCallback } from 'react';\nvar useHttp = function useHttp(requestConfig, applyData) {\n  _s();\n  console.log(\"in http hook\");\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var sendRequest = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var response, data;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          setIsLoading(true);\n          _context.prev = 1;\n          _context.next = 4;\n          return fetch(requestConfig.url, {\n            method: requestConfig.method ? requestConfig.method : \"GET\",\n            headers: requestConfig.headers ? requestConfig.headers : null,\n            body: requestConfig.body ? JSON.stringify(requestConfig.body) : null\n          });\n        case 4:\n          response = _context.sent;\n          console.log(response);\n          if (response.ok) {\n            _context.next = 8;\n            break;\n          }\n          throw new Error(\"Request failed\");\n        case 8:\n          _context.next = 10;\n          return response.json();\n        case 10:\n          data = _context.sent;\n          console.log(data);\n          applyData(data);\n          _context.next = 18;\n          break;\n        case 15:\n          _context.prev = 15;\n          _context.t0 = _context[\"catch\"](1);\n          setError(_context.t0.message || \"Something went wrong!\");\n        case 18:\n          setIsLoading(false);\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 15]]);\n  })));\n  return {\n    isLoading: isLoading,\n    error: error,\n    sendRequest: sendRequest\n  };\n};\n_s(useHttp, \"FFcdbk+kTfFKRpY6eKN2uj4p9Os=\");\nexport default useHttp;","map":{"version":3,"names":["useState","useCallback","useHttp","requestConfig","applyData","_s","console","log","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","error","setError","sendRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","url","method","headers","body","JSON","stringify","sent","ok","Error","json","t0","message","stop"],"sources":["C:/Users/Rahma.Salah/Desktop/React Task/ReactTask/WaterTracker/src/hooks/use-http.js"],"sourcesContent":["import { useState, useCallback } from 'react';\r\n\r\nconst useHttp = (requestConfig, applyData) => {\r\n    console.log(\"in http hook\")\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const sendRequest = useCallback(async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch(requestConfig.url, {\r\n        method: requestConfig.method ? requestConfig.method : \"GET\",\r\n        headers: requestConfig.headers ? requestConfig.headers : null,\r\n        body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n      });\r\n      console.log(response)\r\n      if (!response.ok) {\r\n        throw new Error(\"Request failed\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log(data)\r\n      applyData(data);\r\n    } catch (error) {\r\n      setError(error.message || \"Something went wrong!\");\r\n    }\r\n\r\n    setIsLoading(false);\r\n  });\r\n\r\n  return {\r\n    isLoading,\r\n    error,\r\n    sendRequest,\r\n  };\r\n};\r\n\r\nexport default useHttp;\r\n"],"mappings":";;;;AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAE7C,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIC,aAAa,EAAEC,SAAS,EAAK;EAAAC,EAAA;EAC1CC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;EAC7B,IAAAC,SAAA,GAAkCR,QAAQ,CAAC,KAAK,CAAC;IAAAS,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAC9B,IAAAI,UAAA,GAA0Bb,QAAQ,CAAC,IAAI,CAAC;IAAAc,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAEtB,IAAMG,WAAW,GAAGhB,WAAW,eAAAiB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAA;IAAA,IAAAC,QAAA,EAAAC,IAAA;IAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAC9BhB,YAAY,CAAC,IAAI,CAAC;UAACc,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAEMC,KAAK,CAAC1B,aAAa,CAAC2B,GAAG,EAAE;YAC9CC,MAAM,EAAE5B,aAAa,CAAC4B,MAAM,GAAG5B,aAAa,CAAC4B,MAAM,GAAG,KAAK;YAC3DC,OAAO,EAAE7B,aAAa,CAAC6B,OAAO,GAAG7B,aAAa,CAAC6B,OAAO,GAAG,IAAI;YAC7DC,IAAI,EAAE9B,aAAa,CAAC8B,IAAI,GAAGC,IAAI,CAACC,SAAS,CAAChC,aAAa,CAAC8B,IAAI,CAAC,GAAG;UAClE,CAAC,CAAC;QAAA;UAJIX,QAAQ,GAAAI,QAAA,CAAAU,IAAA;UAKd9B,OAAO,CAACC,GAAG,CAACe,QAAQ,CAAC;UAAA,IAChBA,QAAQ,CAACe,EAAE;YAAAX,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,MACR,IAAIU,KAAK,CAAC,gBAAgB,CAAC;QAAA;UAAAZ,QAAA,CAAAE,IAAA;UAAA,OAGhBN,QAAQ,CAACiB,IAAI,CAAC,CAAC;QAAA;UAA5BhB,IAAI,GAAAG,QAAA,CAAAU,IAAA;UACV9B,OAAO,CAACC,GAAG,CAACgB,IAAI,CAAC;UACjBnB,SAAS,CAACmB,IAAI,CAAC;UAACG,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAc,EAAA,GAAAd,QAAA;UAEhBV,QAAQ,CAACU,QAAA,CAAAc,EAAA,CAAMC,OAAO,IAAI,uBAAuB,CAAC;QAAC;UAGrD7B,YAAY,CAAC,KAAK,CAAC;QAAC;QAAA;UAAA,OAAAc,QAAA,CAAAgB,IAAA;MAAA;IAAA,GAAArB,OAAA;EAAA,CACrB,GAAC;EAEF,OAAO;IACLV,SAAS,EAATA,SAAS;IACTI,KAAK,EAALA,KAAK;IACLE,WAAW,EAAXA;EACF,CAAC;AACH,CAAC;AAACZ,EAAA,CAjCIH,OAAO;AAmCb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}