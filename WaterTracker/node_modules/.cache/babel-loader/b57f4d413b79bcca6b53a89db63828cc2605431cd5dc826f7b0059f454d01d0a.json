{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Rahma.Salah/Desktop/React Task/ReactTask/WaterTracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Rahma.Salah/Desktop/React Task/ReactTask/WaterTracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/Rahma.Salah/Desktop/React Task/ReactTask/WaterTracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _s = $RefreshSig$();\nimport { useState } from \"react\";\nvar useHttp = _s(useCallback(_s(function (requestConfig, applyData) {\n  _s();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var sendRequest = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, data;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            setIsLoading(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return fetch(requestConfig.url, {\n              method: requestConfig.method ? requestConfig.method : \"GET\",\n              headers: requestConfig.headers ? requestConfig.headers : null,\n              body: requestConfig.body ? JSON.stringify(requestConfig.body) : null\n            });\n          case 4:\n            response = _context.sent;\n            if (response.ok) {\n              _context.next = 7;\n              break;\n            }\n            throw new Error(\"Request failed\");\n          case 7:\n            _context.next = 9;\n            return response.json();\n          case 9:\n            data = _context.sent;\n            console.log(data);\n            applyData(data);\n            _context.next = 17;\n            break;\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](1);\n            setError(_context.t0.message || \"Something went wrong!\");\n          case 17:\n            setIsLoading(false);\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[1, 14]]);\n    }));\n    return function sendRequest() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return {\n    isLoading: isLoading,\n    error: error,\n    sendRequest: sendRequest\n  };\n}, \"vj++RuHna9NxFPGCY0p/mi1GZNM=\")), \"vj++RuHna9NxFPGCY0p/mi1GZNM=\");\nexport default useHttp;","map":{"version":3,"names":["useState","useHttp","_s","useCallback","requestConfig","applyData","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","error","setError","sendRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","url","method","headers","body","JSON","stringify","sent","ok","Error","json","console","log","t0","message","stop","apply","arguments"],"sources":["C:/Users/Rahma.Salah/Desktop/React Task/ReactTask/WaterTracker/src/hooks/use-http.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst useHttp = useCallback((requestConfig, applyData) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const sendRequest = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch(requestConfig.url, {\r\n        method: requestConfig.method ? requestConfig.method : \"GET\",\r\n        headers: requestConfig.headers ? requestConfig.headers : null,\r\n        body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Request failed\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log(data)\r\n      applyData(data);\r\n    } catch (error) {\r\n      setError(error.message || \"Something went wrong!\");\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return {\r\n    isLoading,\r\n    error,\r\n    sendRequest,\r\n  };\r\n});\r\n\r\nexport default useHttp;\r\n"],"mappings":";;;;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,IAAMC,OAAO,GAAAC,EAAA,CAAGC,WAAW,CAAAD,EAAA,CAAC,UAACE,aAAa,EAAEC,SAAS,EAAK;EAAAH,EAAA;EACxD,IAAAI,SAAA,GAAkCN,QAAQ,CAAC,KAAK,CAAC;IAAAO,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAC9B,IAAAI,UAAA,GAA0BX,QAAQ,CAAC,IAAI,CAAC;IAAAY,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAEtB,IAAMG,WAAW;IAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA;MAAA,IAAAC,QAAA,EAAAC,IAAA;MAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAClBjB,YAAY,CAAC,IAAI,CAAC;YAACe,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAEMC,KAAK,CAACxB,aAAa,CAACyB,GAAG,EAAE;cAC9CC,MAAM,EAAE1B,aAAa,CAAC0B,MAAM,GAAG1B,aAAa,CAAC0B,MAAM,GAAG,KAAK;cAC3DC,OAAO,EAAE3B,aAAa,CAAC2B,OAAO,GAAG3B,aAAa,CAAC2B,OAAO,GAAG,IAAI;cAC7DC,IAAI,EAAE5B,aAAa,CAAC4B,IAAI,GAAGC,IAAI,CAACC,SAAS,CAAC9B,aAAa,CAAC4B,IAAI,CAAC,GAAG;YAClE,CAAC,CAAC;UAAA;YAJIX,QAAQ,GAAAI,QAAA,CAAAU,IAAA;YAAA,IAKTd,QAAQ,CAACe,EAAE;cAAAX,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA,MACR,IAAIU,KAAK,CAAC,gBAAgB,CAAC;UAAA;YAAAZ,QAAA,CAAAE,IAAA;YAAA,OAGhBN,QAAQ,CAACiB,IAAI,CAAC,CAAC;UAAA;YAA5BhB,IAAI,GAAAG,QAAA,CAAAU,IAAA;YACVI,OAAO,CAACC,GAAG,CAAClB,IAAI,CAAC;YACjBjB,SAAS,CAACiB,IAAI,CAAC;YAACG,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAgB,EAAA,GAAAhB,QAAA;YAEhBX,QAAQ,CAACW,QAAA,CAAAgB,EAAA,CAAMC,OAAO,IAAI,uBAAuB,CAAC;UAAC;YAGrDhC,YAAY,CAAC,KAAK,CAAC;UAAC;UAAA;YAAA,OAAAe,QAAA,CAAAkB,IAAA;QAAA;MAAA,GAAAvB,OAAA;IAAA,CACrB;IAAA,gBApBKL,WAAWA,CAAA;MAAA,OAAAC,IAAA,CAAA4B,KAAA,OAAAC,SAAA;IAAA;EAAA,GAoBhB;EAED,OAAO;IACLpC,SAAS,EAATA,SAAS;IACTI,KAAK,EAALA,KAAK;IACLE,WAAW,EAAXA;EACF,CAAC;AACH,CAAC,kCAAC;AAEF,eAAed,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}